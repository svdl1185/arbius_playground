{% extends 'base.html' %}
{% load static %}

{% block title %}Arbius - Decentralized AI Generation{% endblock %}

{% block extra_css %}
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
  
  /* Base responsive styles */
  * {
    box-sizing: border-box;
  }
  
  img {
    max-width: 100%;
    height: auto;
  }
  
  .hero-section {
    background: linear-gradient(135deg, #000000 0%, #111111 50%, #000000 100%);
    min-height: calc(100vh - 80px); /* Account for navbar height */
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    padding-top: 80px; /* Add top padding for navbar */
  }
  
  .hero-content {
    text-align: center;
    z-index: 10;
    position: relative;
    padding: 0 1rem;
  }
  
  .cta-button {
    background: rgba(0,0,0,0.55);
    color: white;
    font-weight: 600;
    padding: 1rem 2.5rem;
    border-radius: 50px;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    transition: all 0.3s ease;
    font-size: 1.1rem;
    border: 1.5px solid white;
    box-shadow: none;
    backdrop-filter: blur(2px);
    min-height: 44px;
    min-width: 44px;
  }
  
  .cta-button:hover {
    background: rgba(0,0,0,0.75);
    color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(255, 255, 255, 0.08);
  }
  
  .grid-pattern {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    opacity: 0.5;
  }
  
  .floating-question {
    position: absolute;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.5);
    pointer-events: none;
    user-select: none;
    opacity: 0.15;
    transform: scale(0.8);
    transition: opacity 3.5s, transform 3.5s;
    will-change: opacity, transform;
    z-index: 1;
    white-space: nowrap;
  }
  
  .floating-question.fading-out {
    transition: opacity 4.5s;
  }
  
  .section {
    padding: 6rem 0;
  }
  
  .section-title {
    font-size: 3rem;
    font-weight: 700;
    color: white;
    text-align: center;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
  }
  
  .section-subtitle {
    font-size: 1.25rem;
    color: #888888;
    text-align: center;
    margin-bottom: 4rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  
  .feature-card {
    background: #111111;
    border: 1px solid #222222;
    border-radius: 1rem;
    padding: 2rem;
    transition: all 0.3s ease;
    height: 100%;
  }
  
  .feature-card:hover {
    transform: translateY(-4px);
    border-color: #444444;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }
  
  .feature-icon {
    width: 4rem;
    height: 4rem;
    background: white;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
  }
  
  .feature-icon i {
    color: black;
    font-size: 1.5rem;
  }
  
  .feature-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: white;
    margin-bottom: 1rem;
  }
  
  .feature-description {
    color: #888888;
    line-height: 1.6;
  }
  
  /* Mobile responsive styles */
  @media (max-width: 768px) {
    .hero-content {
      padding: 0 1.5rem;
    }
    
    .cta-button {
      padding: 0.875rem 2rem;
      font-size: 1rem;
      min-height: 48px;
    }
    
    .section {
      padding: 4rem 0;
    }
    
    .section-title {
      font-size: 2rem;
      padding: 0 1rem;
    }
    
    .section-subtitle {
      font-size: 1rem;
      padding: 0 1rem;
    }
    
    .feature-card {
      padding: 1.5rem;
      margin: 0 0.5rem;
    }
    
    .feature-icon {
      width: 3rem;
      height: 3rem;
      margin-bottom: 1rem;
    }
    
    .feature-icon i {
      font-size: 1.25rem;
    }
    
    .feature-title {
      font-size: 1.25rem;
    }
    
    .feature-description {
      font-size: 0.9rem;
    }
    
    /* Improve touch targets */
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
    
    /* Adjust floating questions for mobile */
    .floating-question {
      font-size: 0.8rem;
    }
  }
  
  @media (max-width: 480px) {
    .hero-content {
      padding: 0 1rem;
    }
    
    .cta-button {
      padding: 0.75rem 1.5rem;
      font-size: 0.9rem;
      min-height: 44px;
    }
    
    .section {
      padding: 3rem 0;
    }
    
    .section-title {
      font-size: 1.75rem;
      padding: 0 0.75rem;
    }
    
    .section-subtitle {
      font-size: 0.9rem;
      padding: 0 0.75rem;
    }
    
    .feature-card {
      padding: 1.25rem;
      margin: 0 0.25rem;
    }
    
    .feature-icon {
      width: 2.5rem;
      height: 2.5rem;
    }
    
    .feature-icon i {
      font-size: 1rem;
    }
    
    .feature-title {
      font-size: 1.1rem;
    }
    
    .feature-description {
      font-size: 0.85rem;
    }
    
    /* Reduce floating questions on very small screens */
    .floating-question {
      font-size: 0.7rem;
    }
  }
  
  /* Touch device optimizations */
  @media (hover: none) and (pointer: coarse) {
    .cta-button:hover {
      transform: none;
    }
    
    .feature-card:hover {
      transform: none;
    }
    
    /* Increase spacing for touch interactions */
    .feature-card {
      margin: 0.5rem 0;
    }
  }
  
  .wallet-btn-outline {
    background: rgba(0,0,0,0.55) !important;
    color: white !important;
    border: 1.5px solid white !important;
    box-shadow: none !important;
    transition: background 0.2s, color 0.2s, border 0.2s;
    backdrop-filter: blur(2px);
  }
  .wallet-btn-outline:hover, .wallet-btn-outline:focus {
    background: rgba(0,0,0,0.75) !important;
    color: #fff !important;
    border-color: #fff !important;
  }
  .wallet-btn-outline, .navbar-wallet .wallet-btn-outline, #connect-wallet-btn, #connect-wallet-btn-mobile {
    background: #fff !important;
    color: #181828 !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 999px !important;
    font-size: 0.95rem !important;
    font-weight: 500 !important;
    padding: 6px 22px !important;
    min-width: 0 !important;
    min-height: 0 !important;
    height: auto !important;
    display: inline-flex;
    align-items: center !important;
    justify-content: center !important;
    gap: 0 !important;
  }
  .wallet-address-pill {
    background: transparent;
    color: #fff;
    border: 2px solid #fff;
    border-radius: 999px;
    font-size: 0.95rem;
    font-weight: 500;
    padding: 6px 22px;
    min-width: 0;
    min-height: 0;
    height: auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    margin-bottom: 6px;
    transition: border 0.2s, background 0.2s;
  }
  .wallet-address-pill:hover, .wallet-address-pill:focus {
    background: rgba(255,255,255,0.08);
    border-color: #fff;
  }
  .wallet-connected-dropdown {
    display: inline-block;
    position: relative;
    vertical-align: middle;
  }
  .wallet-dropdown-menu {
    position: absolute;
    top: 110%;
    left: 0;
    background: #232a3a;
    border-radius: 18px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.18);
    padding: 22px 0 18px 0;
    min-width: 210px;
    z-index: 2000;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .wallet-dropdown-item {
    color: #fff;
    text-decoration: none;
    font-size: 1.08rem;
    padding: 12px 28px 12px 22px;
    display: flex;
    align-items: center;
    gap: 16px;
    border: none;
    background: none;
    cursor: pointer;
    transition: background 0.15s;
    border-radius: 12px;
  }
  .wallet-dropdown-item:hover {
    background: #2e3542;
  }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
  <div class="grid-pattern"></div>
  
  <!-- Floating Questions Background -->
  <div id="questions-bg" class="absolute inset-0 pointer-events-none"></div>
  
  <div class="hero-content">
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
      <a href="{% url 'playground' %}" class="cta-button">
        <i class="fas fa-rocket"></i>
        Try Now
      </a>
      <a href="{% url 'gallery_index' %}" class="cta-button">
        <i class="fas fa-images"></i>
        Browse Gallery
      </a>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="section bg-black">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="section-title">Why Decentralized AI Hosting & Generation?</h2>
    <p class="section-subtitle">The big pros of using Arbius for decentralized AI generation.</p>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      <!-- Trustless -->
      <div class="feature-card">
        <div class="feature-icon"><i class="fas fa-lock-open"></i></div>
        <h3 class="feature-title">Trustless</h3>
        <p class="feature-description">No intermediaries, no gatekeepers. All inference and payments are handled by smart contractsâ€”fully transparent and verifiable.</p>
      </div>
      
      <!-- Open Access -->
      <div class="feature-card">
        <div class="feature-icon"><i class="fas fa-users"></i></div>
        <h3 class="feature-title">Open Access</h3>
        <p class="feature-description">Anyone can use Arbius or become a miner. No barriers to entry, no privileged roles.</p>
      </div>
      
      <!-- No Account or KYC -->
      <div class="feature-card">
        <div class="feature-icon"><i class="fas fa-id-badge"></i></div>
        <h3 class="feature-title">No Account or KYC</h3>
        <p class="feature-description">No sign-up, no KYC, no personal data. Just connect your wallet and pay per prompt.</p>
      </div>
      
      <!-- Permanence -->
      <div class="feature-card">
        <div class="feature-icon"><i class="fas fa-infinity"></i></div>
        <h3 class="feature-title">Permanence</h3>
        <p class="feature-description">All results are stored permanently on IPFS, ensuring your creations are accessible forever.</p>
      </div>
      
      <!-- Energy Efficient -->
      <div class="feature-card">
        <div class="feature-icon"><i class="fas fa-leaf"></i></div>
        <h3 class="feature-title">Energy Efficient</h3>
        <p class="feature-description">Proof of Useful Work combines AI computation with blockchain mining, maximizing energy efficiency.</p>
      </div>
      
      <!-- Censorship Resistant -->
      <div class="feature-card">
        <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
        <h3 class="feature-title">Censorship Resistant</h3>
        <p class="feature-description">No central authority can block or censor your requests. The network operates independently.</p>
      </div>
      
      <!-- Cost Effective -->
      <div class="feature-card">
        <div class="feature-icon"><i class="fas fa-coins"></i></div>
        <h3 class="feature-title">Cost Effective</h3>
        <p class="feature-description">Pay only for what you use. No subscriptions, no hidden fees, no minimum commitments.</p>
      </div>
      
      <!-- Global Network -->
      <div class="feature-card">
        <div class="feature-icon"><i class="fas fa-globe"></i></div>
        <h3 class="feature-title">Global Network</h3>
        <p class="feature-description">Distributed network of miners worldwide ensures low latency and high availability.</p>
      </div>
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Floating questions animation
  const questions = [
    "What if AI could be truly decentralized?",
    "Can we build a censorship-resistant AI network?",
    "What does the future of AI look like?",
    "How can we democratize AI access?",
    "What if computation was a public good?",
    "Is AI dangerous?",
    "Can we trust machine learning?",
    "Will AI replace jobs?",
    "How do we ensure AI fairness?",
    "What is the future of creativity?",
    "Can AI be conscious?",
    "What if everyone had access to superintelligence?",
    "How do we align AI with human values?",
    "What is the role of open source in AI?",
    "Can AI help solve climate change?",
    "What if AI could teach itself?",
    "How do we prevent AI bias?",
    "What if AI could explain itself?",
    "Can AI make us more human?",
    "What if AI was a public good?"
  ];

  const questionsBg = document.getElementById('questions-bg');
  const MAX_QUESTIONS = 20;
  let activeQuestions = [];

  function createFloatingQuestion() {
    if (!questionsBg) return;
    // Remove oldest if too many
    if (activeQuestions.length >= MAX_QUESTIONS) {
      const oldest = activeQuestions.shift();
      if (oldest && oldest.parentNode) oldest.parentNode.removeChild(oldest);
    }
    const question = document.createElement('div');
    question.className = 'floating-question';
    question.textContent = questions[Math.floor(Math.random() * questions.length)];
    // Random font size
    const fontSize = (Math.random() * 0.7 + 1.1) + 'rem';
    question.style.fontSize = fontSize;
    // Initial state
    question.style.opacity = '0.15';
    question.style.transform = 'scale(0.8)';
    questionsBg.appendChild(question);
    // Calculate width and adjust left so it doesn't overflow
    const parentWidth = questionsBg.offsetWidth || window.innerWidth;
    const questionWidth = question.offsetWidth;
    let left = Math.random() * 95; // 0% to 95%
    // Convert percent to px
    let leftPx = left / 100 * parentWidth;
    if (leftPx + questionWidth > parentWidth) {
      leftPx = parentWidth - questionWidth - 8; // 8px margin
      left = (leftPx / parentWidth) * 100;
      if (left < 0) left = 0;
    }
    question.style.left = left + '%';
    // --- Avoid vertical overlap with last 5 questions ---
    // Get last 5 active questions' top positions (in %)
    const lastTops = activeQuestions.slice(-20).map(q => {
      const topStr = q.style.top || '0%';
      return parseFloat(topStr.replace('%',''));
    });
    let top;
    let tries = 0;
    do {
      top = Math.random() * 95; // 0% to 95%
      tries++;
      // If too close to any of the last 5, try again
    } while (lastTops.some(t => Math.abs(t - top) < 8) && tries < 20);
    question.style.top = top + '%';
    // --- End vertical overlap avoidance ---
    activeQuestions.push(question);
    // Animate in
    setTimeout(() => {
      question.style.opacity = (Math.random() * 0.3 + 0.5).toString(); // 0.5-0.8
      question.style.transform = 'scale(1.2)';
    }, 100);
    // Animate out after linger (fade out only opacity)
    const duration = Math.random() * 4000 + 8000; // 8-12s
    setTimeout(() => {
      question.classList.add('fading-out');
      question.style.opacity = '0';
      // Do not change transform on fade out
    }, duration - 3500); // start fade-out 3.5s before removal
    // Remove after animation
    setTimeout(() => {
      if (question.parentNode) {
        question.parentNode.removeChild(question);
      }
      activeQuestions = activeQuestions.filter(q => q !== question);
    }, duration);
  }
  // Start with a bunch
  for (let i = 0; i < MAX_QUESTIONS; i++) {
    setTimeout(createFloatingQuestion, i * 500);
  }
  // Then add new ones every 900ms
  setInterval(createFloatingQuestion, 900);
});
</script>
{% endblock %} 